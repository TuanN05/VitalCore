<!DOCTYPE html>
<html lang="vi" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>T√≠nh to√°n Dinh d∆∞·ª°ng & Luy·ªán t·∫≠p</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <nav class="navbar">
      <div class="container">
        <a href="index.html" class="logo">VitalCore</a>
        <ul class="nav-links">
          <li><a href="index.html">Trang Ch·ªß</a></li>
          <li><a href="nutrition.html" class="active">Dinh D∆∞·ª°ng</a></li>
          <li><a href="workout.html">Luy·ªán T·∫≠p</a></li>
          <li><a href="chat.html">AI Coach</a></li>
          <li><a href="blog.html">Blog</a></li>
        </ul>
        <div class="nav-auth">
          <a href="login.html" id="login-btn" class="btn btn-secondary">ƒêƒÉng Nh·∫≠p</a>
          <div id="user-info" style="display: none">
            <span id="username-display"></span>
            <a href="user.html" class="btn btn-primary">T√†i kho·∫£n</a>
            <button id="logout-btn" class="btn btn-secondary">ƒêƒÉng xu·∫•t</button>
          </div>
        </div>
        <button id="theme-toggle" class="theme-toggle-btn">üåô</button>
      </div>
    </nav>

    <main class="container page-content">
      <div class="form-container card">
        <h2>Nh·∫≠p th√¥ng tin c·ªßa b·∫°n</h2>
        <p>
          H√£y cung c·∫•p c√°c th√¥ng s·ªë d∆∞·ªõi ƒë√¢y ƒë·ªÉ h·ªá th·ªëng t√≠nh to√°n nhu c·∫ßu nƒÉng
          l∆∞·ª£ng v√† dinh d∆∞·ª°ng ph√π h·ª£p nh·∫•t cho b·∫°n.
        </p>
        <form id="nutrition-form">
          <div class="form-grid">
            <div class="form-group">
              <label for="name">H·ªç v√† T√™n</label>
              <input type="text" id="name" required />
            </div>
            <div class="form-group">
              <label for="age">Tu·ªïi</label>
              <select id="age" required>
                <option value="">-- Ch·ªçn tu·ªïi --</option>
              </select>
            </div>
            <div class="form-group">
              <label for="gender">Gi·ªõi t√≠nh</label>
              <select id="gender" required>
                <option value="male">Nam</option>
                <option value="female">N·ªØ</option>
              </select>
            </div>
            <div class="form-group">
              <label for="height">Chi·ªÅu cao (cm)</label>
              <select id="height" required>
                <option value="">-- Ch·ªçn chi·ªÅu cao --</option>
              </select>
            </div>
            <div class="form-group">
              <label for="weight">C√¢n n·∫∑ng (kg)</label>
              <select id="weight" required>
                <option value="">-- Ch·ªçn c√¢n n·∫∑ng --</option>
              </select>
            </div>
            <div class="form-group">
              <label for="activity">M·ª©c ƒë·ªô v·∫≠n ƒë·ªông</label>
              <select id="activity" required>
                <option value="1.2">√çt v·∫≠n ƒë·ªông (l√†m vi·ªác vƒÉn ph√≤ng)</option>
                <option value="1.375">V·∫≠n ƒë·ªông nh·∫π (t·∫≠p 1-3 ng√†y/tu·∫ßn)</option>
                <option value="1.55">V·∫≠n ƒë·ªông v·ª´a (t·∫≠p 3-5 ng√†y/tu·∫ßn)</option>
                <option value="1.725">V·∫≠n ƒë·ªông nhi·ªÅu (t·∫≠p 6-7 ng√†y/tu·∫ßn)</option>
                <option value="1.9">V·∫≠n ƒë·ªông r·∫•t nhi·ªÅu (v·∫≠n ƒë·ªông vi√™n)</option>
              </select>
            </div>
          </div>
          <div class="form-group full-width">
            <label for="goal">M·ª•c ti√™u c·ªßa b·∫°n</label>
            <select id="goal" required>
              <option value="lose">Gi·∫£m c√¢n (th√¢m h·ª•t ~500 kcal)</option>
              <option value="maintain">Gi·ªØ c√¢n</option>
              <option value="gain">TƒÉng c√¢n (d∆∞ th·ª´a ~500 kcal)</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary btn-lg">T√≠nh to√°n ngay</button>
        </form>
      </div>

      <div id="results" class="card">
        <h2 id="result-title">K·∫øt qu·∫£ d√†nh cho b·∫°n</h2>
        <div class="results-grid">
          <div class="nutrition-data">
            <h3>Ch·ªâ s·ªë dinh d∆∞·ª°ng</h3>
            <div class="data-item">
              <span>L∆∞·ª£ng Calo duy tr√¨ (TDEE)</span>
              <span id="tdee-result"></span>
            </div>
            <div class="data-item">
              <span>L∆∞·ª£ng Calo m·ª•c ti√™u</span>
              <span id="goal-calories-result"></span>
            </div>
            <div class="data-item">
              <span>Protein (g)</span>
              <span id="protein-result"></span>
            </div>
            <div class="data-item">
              <span>Carbohydrates (g)</span>
              <span id="carbs-result"></span>
            </div>
            <div class="data-item">
              <span>Fat (g)</span>
              <span id="fat-result"></span>
            </div>
          </div>
          <div class="macro-chart">
            <h3>Bi·ªÉu ƒë·ªì ph√¢n b·ªï Macros</h3>
            <div class="chart-container">
              <canvas id="macroChart"></canvas>
            </div>
          </div>
        </div>
        <div class="food-suggestions">
          <h3>G·ª£i √Ω m√≥n ƒÉn</h3>
          <div id="food-list-container" class="food-list"></div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 VitalCore Hub. All rights reserved.</p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>

    <!-- ‚úÖ T·ª± ƒë·ªông t·∫°o danh s√°ch tu·ªïi, chi·ªÅu cao, c√¢n n·∫∑ng -->
    <script>
      function populateSelect(id, min, max) {
        const select = document.getElementById(id);
        for (let i = min; i <= max; i++) {
          const option = document.createElement("option");
          option.value = i;
          option.textContent = i;
          select.appendChild(option);
        }
      }

      populateSelect("age", 15, 90);
      populateSelect("height", 100, 250);
      populateSelect("weight", 30, 200);
    </script>
  </body>
</html>
